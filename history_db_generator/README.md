
# Генератор базы данных исторических событий России

Скрипт для генерации подробной базы данных исторических событий, охватывающих всю историю России от древней Руси до современности.

## Особенности

- Генерация максимально полного списка исторических тем
- Сбор детальной информации о событиях по каждой теме
- Определение дат, мест, координат и категорий событий
- Кэширование промежуточных результатов для возобновления работы
- Создание структурированной JSON базы данных

## Требования

- Python 3.7+
- Доступ к API Google Gemini (ключ должен быть в файле `.env`)

## Установка зависимостей

```bash
pip install -r requirements.txt
```

## Использование

1. Убедитесь, что файл `.env` в корневой директории содержит ключ `GEMINI_API_KEY`
2. Запустите скрипт:

```bash
python generator.py
```

3. Скрипт создаст базу данных в файле `russian_history_database.json`

## Структура генерируемой базы данных

```json
{
  "events": [
    {
      "id": "unique_id",
      "title": "Название события",
      "date": "Дата события",
      "description": "Описание события",
      "location": {
        "name": "Название места",
        "lat": 55.75,
        "lng": 37.62
      },
      "category": "Категория события"
    },
    ...
  ],
  "categories": [
    "Войны и сражения",
    "Культура и религия",
    ...
  ]
}
```

## Функциональность

1. **Генерация тем**: Скрипт получает максимально полный список исторических тем России
2. **Сбор событий**: По каждой теме собираются детальные исторические события
3. **Определение места**: Для каждого события определяется место и географические координаты
4. **Категоризация**: События распределяются по категориям
5. **Кэширование**: Промежуточные результаты сохраняются для возможности продолжения работы
6. **Дедупликация**: Убираются повторяющиеся события

## Примечания

- Полная генерация базы данных может занять длительное время из-за большого количества запросов к API
- В случае обрыва соединения вы можете перезапустить скрипт, и он продолжит с места остановки
- Для каждой генерации создается резервная копия с временной меткой
